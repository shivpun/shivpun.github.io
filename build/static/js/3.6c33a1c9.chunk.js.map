{"version":3,"sources":["../node_modules/redux-dynamic-modules-react/lib/index.js","../node_modules/redux-dynamic-modules-react/lib/DynamicModuleLoader.js","features/contact/contact.component.js","features/contact/index.js"],"names":["__export","m","p","exports","hasOwnProperty","__esModule","require","__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","react_redux_1","DynamicModuleLoader","_super","render","_this","createElement","ReactReduxContext","Consumer","reactReduxContext","DynamicModuleLoaderImpl","props","Component","_providerInitializationNeeded","_cleanup","_addedModules","remove","undefined","message","console","error","Error","_store","store","strictMode","state","readyToRender","_addModules","Provider","Fragment","_renderLoader","AddedModulesCleanup","cleanup","children","_a","createStore","modules","addModules","componentDidMount","setState","componentWillUnmount","connect","log","items","contactState","className","map","item","index","key","title","DynamicContact"],"mappings":"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","file":"static/js/3.6c33a1c9.chunk.js","sourcesContent":["\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nexports.__esModule = true;\r\n__export(require(\"redux-dynamic-modules-core\"));\r\n__export(require(\"./DynamicModuleLoader\"));\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nexports.__esModule = true;\r\nvar React = require(\"react\");\r\n//@ts-ignore // ReactReduxContext is not officially exported\r\nvar react_redux_1 = require(\"react-redux\");\r\n/**\r\n * The DynamicModuleLoader adds a way to register a module on mount\r\n * When this component is initialized, the reducer and saga from the module passed as props will be registered with the system\r\n * On unmount, they will be unregistered\r\n */\r\nvar DynamicModuleLoader = /** @class */ (function (_super) {\r\n    __extends(DynamicModuleLoader, _super);\r\n    function DynamicModuleLoader() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DynamicModuleLoader.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(react_redux_1.ReactReduxContext.Consumer, null, function (reactReduxContext) { return (React.createElement(DynamicModuleLoaderImpl, __assign({}, _this.props, { reactReduxContext: reactReduxContext }))); }));\r\n    };\r\n    return DynamicModuleLoader;\r\n}(React.Component));\r\nexports.DynamicModuleLoader = DynamicModuleLoader;\r\nvar DynamicModuleLoaderImpl = /** @class */ (function (_super) {\r\n    __extends(DynamicModuleLoaderImpl, _super);\r\n    function DynamicModuleLoaderImpl(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /** Flag that indicates we need to create a store/provider because a parent store was not provided */\r\n        _this._providerInitializationNeeded = false;\r\n        /**\r\n         * Unregister sagas and reducers\r\n         */\r\n        _this._cleanup = function () {\r\n            if (_this._addedModules) {\r\n                _this._addedModules.remove();\r\n                _this._addedModules = undefined;\r\n            }\r\n        };\r\n        if (props.reactReduxContext == null) {\r\n            var message = \"Tried to render DynamicModuleLoader, but no ReactReduxContext was provided\";\r\n            console.error(message);\r\n            throw new Error(message);\r\n        }\r\n        _this._store = props.reactReduxContext\r\n            ? props.reactReduxContext.store\r\n            : undefined;\r\n        // We are not in strict mode, let's add the modules ASAP\r\n        if (!_this.props.strictMode) {\r\n            _this._addModules();\r\n            _this.state = { readyToRender: true };\r\n        }\r\n        else {\r\n            // We are in strict mode, so have to wait for CDM to add modules.\r\n            // Thus, we cannot render the children at this time\r\n            _this.state = { readyToRender: false };\r\n        }\r\n        return _this;\r\n    }\r\n    DynamicModuleLoaderImpl.prototype.render = function () {\r\n        if (this.state.readyToRender) {\r\n            if (this._providerInitializationNeeded) {\r\n                return (React.createElement(react_redux_1.Provider, { store: this._store },\r\n                    React.createElement(DynamicModuleLoader, __assign({}, this.props))));\r\n            }\r\n            return (React.createElement(React.Fragment, null,\r\n                this._renderLoader(),\r\n                React.createElement(AddedModulesCleanup, { cleanup: this._cleanup })));\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Render a Redux provider\r\n     */\r\n    DynamicModuleLoaderImpl.prototype._renderLoader = function () {\r\n        return this.props.children\r\n            ? typeof this.props.children === \"function\"\r\n                ? this.props.children()\r\n                : this.props.children\r\n            : null;\r\n    };\r\n    DynamicModuleLoaderImpl.prototype._addModules = function () {\r\n        var _a = this.props, createStore = _a.createStore, modules = _a.modules;\r\n        if (!this._store) {\r\n            // If we need to create a store, do that here. We will skip adding the modules and render DML again\r\n            if (createStore) {\r\n                this._store = createStore();\r\n                this._providerInitializationNeeded = true;\r\n            }\r\n            else {\r\n                throw new Error(\"Store could not be resolved from React context\");\r\n            }\r\n        }\r\n        else {\r\n            // Add the modules here\r\n            this._addedModules = this._store.addModules(modules);\r\n        }\r\n    };\r\n    DynamicModuleLoaderImpl.prototype.componentDidMount = function () {\r\n        if (this.props.strictMode) {\r\n            this._addModules();\r\n            this.setState({ readyToRender: true });\r\n        }\r\n    };\r\n    return DynamicModuleLoaderImpl;\r\n}(React.Component));\r\n/**\r\n * This component is rendered as the last child of DynamicModuleLoaderImpl\r\n * so react runs willUnmount on connected(react-redux) children before this\r\n * cleanup and allows them to unsubscribe from store before dynamic reducers\r\n * removing (and avoid errors in selectors)\r\n */\r\nvar AddedModulesCleanup = /** @class */ (function (_super) {\r\n    __extends(AddedModulesCleanup, _super);\r\n    function AddedModulesCleanup() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AddedModulesCleanup.prototype.render = function () {\r\n        return null;\r\n    };\r\n    AddedModulesCleanup.prototype.componentWillUnmount = function () {\r\n        this.props.cleanup();\r\n    };\r\n    return AddedModulesCleanup;\r\n}(React.Component));\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ContactUS = ({ items }) => {\r\n\tconsole.log('[contact.component.js] component ...');\r\n\tconsole.log(items);\r\n    if (items.length === 0) {\r\n        return <div className=\"contact-root widget\">Loading News...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"news-root widget\">\r\n            <h2>Contact News - Top 5</h2>\r\n            {\r\n                items.map((item, index) => {\r\n                    return <div key={index}>{item.title}<br/></div>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\tconsole.log('[contact.component.js] mapStateToProps ...');\r\n    return {\r\n        items: state.contactState ? state.contactState.items : [],\r\n    };\r\n};\r\n\r\nexport const ConnectedContact = connect(mapStateToProps)(ContactUS);\r\n","import { ConnectedContact } from \"./contact.component\";\r\nimport { getContactModule } from \"./contact.module\";\r\nimport { DynamicModuleLoader } from \"redux-dynamic-modules-react\";\r\nimport * as React from \"react\";\r\n\r\nexport default function DynamicContact() {\r\n    return (\r\n        // define the module dependency for the HackerNews component\r\n        // DynamicModuleLoader is a HOC provided by redux-dynamic-modules-react\r\n        // It loads the module on ComponentDidMount and unloads on ComponentDidUnmount\r\n        <DynamicModuleLoader modules={[getContactModule()]}>\r\n            {/* \r\n                This is the Hacker News component that is connected to the redux store,\r\n                the connected component need not know anything about modules. \r\n            */}\r\n            <ConnectedContact />\r\n        </DynamicModuleLoader>\r\n    );\r\n}\r\n"],"sourceRoot":""}