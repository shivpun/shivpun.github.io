{"version":3,"sources":["../node_modules/redux-dynamic-modules-react/lib/index.js","../node_modules/redux-dynamic-modules-react/lib/DynamicModuleLoader.js","features/contact/contact.component.js","features/contact/contact.actions.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","features/contact/contact.reducer.js","features/contact/index.js","features/contact/contact.module.js"],"names":["__export","m","p","exports","hasOwnProperty","__esModule","require","__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","react_redux_1","DynamicModuleLoader","_super","render","_this","createElement","ReactReduxContext","Consumer","reactReduxContext","DynamicModuleLoaderImpl","props","Component","_providerInitializationNeeded","_cleanup","_addedModules","remove","undefined","message","console","error","Error","_store","store","strictMode","state","readyToRender","_addModules","Provider","Fragment","_renderLoader","AddedModulesCleanup","cleanup","children","_a","createStore","modules","addModules","componentDidMount","setState","componentWillUnmount","ConnectedContact","connect","log","items","contactState","className","map","item","index","key","title","fetchStories","dispatch","getState","fetchJson","then","ids","promises","o","Symbol","iterator","isArray","unsupportedIterableToArray","F","done","value","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","splice","id","push","Promise","all","stories","type","payload","url","fetch","response","json","contactReducer","action","produce","draft","DynamicContact","reducerMap","initialActions","finalActions"],"mappings":"uHACA,SAASA,EAASC,GACd,IAAK,IAAIC,KAAKD,EAAQE,EAAQC,eAAeF,KAAIC,EAAQD,GAAKD,EAAEC,IAEpEC,EAAQE,YAAa,EACrBL,EAASM,EAAQ,IACjBN,EAASM,EAAQ,M,gCCLjB,IAAIC,EAAaC,MAAQA,KAAKD,WAAe,WACzC,IAAIE,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIT,KAAKS,EAAOA,EAAEP,eAAeF,KAAIQ,EAAER,GAAKS,EAAET,MACpDQ,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOR,KAAKS,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEQ,UAAkB,OAANP,EAAaC,OAAOO,OAAOR,IAAMK,EAAGE,UAAYP,EAAEO,UAAW,IAAIF,IAV1C,GAazCI,EAAYZ,MAAQA,KAAKY,UAAa,WAStC,OARAA,EAAWR,OAAOS,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAItB,KADTqB,EAAIG,UAAUF,GACOZ,OAAOM,UAAUd,eAAewB,KAAKL,EAAGrB,KACzDoB,EAAEpB,GAAKqB,EAAErB,IAEjB,OAAOoB,IAEKO,MAAMrB,KAAMkB,YAEhCvB,EAAQE,YAAa,EACrB,IAAIyB,EAAQxB,EAAQ,GAEhByB,EAAgBzB,EAAQ,GAMxB0B,EAAqC,SAAUC,GAE/C,SAASD,IACL,OAAkB,OAAXC,GAAmBA,EAAOJ,MAAMrB,KAAMkB,YAAclB,KAM/D,OARAD,EAAUyB,EAAqBC,GAI/BD,EAAoBd,UAAUgB,OAAS,WACnC,IAAIC,EAAQ3B,KACZ,OAAQsB,EAAMM,cAAcL,EAAcM,kBAAkBC,SAAU,MAAM,SAAUC,GAAqB,OAAQT,EAAMM,cAAcI,EAAyBpB,EAAS,GAAIe,EAAMM,MAAO,CAAEF,kBAAmBA,SAE5MP,EAT8B,CAUvCF,EAAMY,WACRvC,EAAQ6B,oBAAsBA,EAC9B,IAAIQ,EAAyC,SAAUP,GAEnD,SAASO,EAAwBC,GAC7B,IAAIN,EAAQF,EAAOL,KAAKpB,KAAMiC,IAAUjC,KAYxC,GAVA2B,EAAMQ,+BAAgC,EAItCR,EAAMS,SAAW,WACTT,EAAMU,gBACNV,EAAMU,cAAcC,SACpBX,EAAMU,mBAAgBE,IAGC,MAA3BN,EAAMF,kBAA2B,CACjC,IAAIS,EAAU,6EAEd,MADAC,QAAQC,MAAMF,GACR,IAAIG,MAAMH,GAepB,OAbAb,EAAMiB,OAASX,EAAMF,kBACfE,EAAMF,kBAAkBc,WACxBN,EAEDZ,EAAMM,MAAMa,WAObnB,EAAMoB,MAAQ,CAAEC,eAAe,IAN/BrB,EAAMsB,cACNtB,EAAMoB,MAAQ,CAAEC,eAAe,IAO5BrB,EA+CX,OA/EA5B,EAAUiC,EAAyBP,GAkCnCO,EAAwBtB,UAAUgB,OAAS,WACvC,OAAI1B,KAAK+C,MAAMC,cACPhD,KAAKmC,8BACGb,EAAMM,cAAcL,EAAc2B,SAAU,CAAEL,MAAO7C,KAAK4C,QAC9DtB,EAAMM,cAAcJ,EAAqBZ,EAAS,GAAIZ,KAAKiC,SAE3DX,EAAMM,cAAcN,EAAM6B,SAAU,KACxCnD,KAAKoD,gBACL9B,EAAMM,cAAcyB,EAAqB,CAAEC,QAAStD,KAAKoC,YAE1D,MAKXJ,EAAwBtB,UAAU0C,cAAgB,WAC9C,OAAOpD,KAAKiC,MAAMsB,SACmB,oBAAxBvD,KAAKiC,MAAMsB,SACdvD,KAAKiC,MAAMsB,WACXvD,KAAKiC,MAAMsB,SACf,MAEVvB,EAAwBtB,UAAUuC,YAAc,WAC5C,IAAIO,EAAKxD,KAAKiC,MAAOwB,EAAcD,EAAGC,YAAaC,EAAUF,EAAGE,QAChE,GAAK1D,KAAK4C,OAYN5C,KAAKqC,cAAgBrC,KAAK4C,OAAOe,WAAWD,OAZ9B,CAEd,IAAID,EAKA,MAAM,IAAId,MAAM,kDAJhB3C,KAAK4C,OAASa,IACdzD,KAAKmC,+BAAgC,IAWjDH,EAAwBtB,UAAUkD,kBAAoB,WAC9C5D,KAAKiC,MAAMa,aACX9C,KAAKiD,cACLjD,KAAK6D,SAAS,CAAEb,eAAe,MAGhChB,EAhFkC,CAiF3CV,EAAMY,WAOJmB,EAAqC,SAAU5B,GAE/C,SAAS4B,IACL,OAAkB,OAAX5B,GAAmBA,EAAOJ,MAAMrB,KAAMkB,YAAclB,KAQ/D,OAVAD,EAAUsD,EAAqB5B,GAI/B4B,EAAoB3C,UAAUgB,OAAS,WACnC,OAAO,MAEX2B,EAAoB3C,UAAUoD,qBAAuB,WACjD9D,KAAKiC,MAAMqB,WAERD,EAX8B,CAYvC/B,EAAMY,Y,0GCpHK6B,EAAmBC,mBAPR,SAAAjB,GAEpB,OADHN,QAAQwB,IAAI,8CACF,CACHC,MAAOnB,EAAMoB,aAAepB,EAAMoB,aAAaD,MAAQ,MAI/BF,EA3Bd,SAAC,GAAe,IAAbE,EAAY,EAAZA,MAGjB,OAFHzB,QAAQwB,IAAI,wCACZxB,QAAQwB,IAAIC,GACY,IAAjBA,EAAM/C,OACC,yBAAKiD,UAAU,uBAAf,mBAIP,yBAAKA,UAAU,oBACX,oDAEIF,EAAMG,KAAI,SAACC,EAAMC,GACb,OAAO,yBAAKC,IAAKD,GAAQD,EAAKG,MAAM,qC,eCfjD,IAaMC,EAAe,WAExB,OADHjC,QAAQwB,IAAI,8BACF,SAACU,EAAUC,GACdC,EAAU,yDAAyDC,MAC/D,SAAAC,GACI,IADG,EAEGC,EAAW,GAFd,EChBJ,SAAoCC,GACjD,GAAsB,qBAAXC,QAAgD,MAAtBD,EAAEC,OAAOC,UAAmB,CAC/D,GAAI5E,MAAM6E,QAAQH,KAAOA,EAAI,OAAAI,EAAA,GAA2BJ,IAAK,CAC3D,IAAIjE,EAAI,EAEJsE,EAAI,aAER,MAAO,CACLvE,EAAGuE,EACHrE,EAAG,WACD,OAAID,GAAKiE,EAAE9D,OAAe,CACxBoE,MAAM,GAED,CACLA,MAAM,EACNC,MAAOP,EAAEjE,OAGbyE,EAAG,SAAWC,GACZ,MAAMA,GAERC,EAAGL,GAIP,MAAM,IAAIM,UAAU,yIAGtB,IAAIC,EAGAC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLjF,EAAG,WACD8E,EAAKZ,EAAEC,OAAOC,aAEhBlE,EAAG,WACD,IAAIgF,EAAOJ,EAAGK,OAEd,OADAH,EAAmBE,EAAKV,KACjBU,GAETR,EAAG,SAAWU,GACZH,GAAS,EACTF,EAAMK,GAERR,EAAG,WACD,IACOI,GAAoC,MAAhBF,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIG,EAAQ,MAAMF,KDjCP,CACUf,EAAIqB,OAAO,EAAG,IADxB,IAGH,2BAAuB,CAAC,IAAbC,EAAY,QACnBrB,EAASsB,KACLzB,EACI,8CACIwB,EACA,WARb,8BAYHE,QAAQC,IAAIxB,GAAUF,MAAK,SAAA2B,GA1BX,IAAAvC,EA2BZS,GA3BYT,EA2BcuC,EA1B7ChE,QAAQwB,IAAI,kCACF,CACHyC,KANwB,2BAOxBC,QAAS,CACLzC,oBA8BNW,EAAY,SAAA+B,GACd,OAAOC,MAAMD,GAAK9B,MAAK,SAAAgC,GACnB,OAAOA,EAASC,WErCXC,EAAiB,SAACjE,EAAOkE,GAElC,OADHxE,QAAQwB,IAAI,iCACFiD,YAAQnE,GAAS,CAAEmB,MAAO,KAAM,SAAAiD,GACnC,OAAQF,EAAOP,MACX,IFPoB,2BEQhBS,EAAMjD,MAAQ+C,EAAON,QAAQzC,W,YCH9B,SAASkD,IACpB,OACI,gBAAC,sBAAD,CAAqB1D,QAAS,ECHrCjB,QAAQwB,IAAI,iCACF,CACHoC,GAAI,eACJgB,WAAY,CACRlD,aAAc6C,GAElBM,eAAgB,CAAC5C,KACjB6C,aAAc,ODFV,gBAACxD,EAAD","file":"static/js/3.27a6f4be.chunk.js","sourcesContent":["\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nexports.__esModule = true;\r\n__export(require(\"redux-dynamic-modules-core\"));\r\n__export(require(\"./DynamicModuleLoader\"));\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nexports.__esModule = true;\r\nvar React = require(\"react\");\r\n//@ts-ignore // ReactReduxContext is not officially exported\r\nvar react_redux_1 = require(\"react-redux\");\r\n/**\r\n * The DynamicModuleLoader adds a way to register a module on mount\r\n * When this component is initialized, the reducer and saga from the module passed as props will be registered with the system\r\n * On unmount, they will be unregistered\r\n */\r\nvar DynamicModuleLoader = /** @class */ (function (_super) {\r\n    __extends(DynamicModuleLoader, _super);\r\n    function DynamicModuleLoader() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DynamicModuleLoader.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(react_redux_1.ReactReduxContext.Consumer, null, function (reactReduxContext) { return (React.createElement(DynamicModuleLoaderImpl, __assign({}, _this.props, { reactReduxContext: reactReduxContext }))); }));\r\n    };\r\n    return DynamicModuleLoader;\r\n}(React.Component));\r\nexports.DynamicModuleLoader = DynamicModuleLoader;\r\nvar DynamicModuleLoaderImpl = /** @class */ (function (_super) {\r\n    __extends(DynamicModuleLoaderImpl, _super);\r\n    function DynamicModuleLoaderImpl(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /** Flag that indicates we need to create a store/provider because a parent store was not provided */\r\n        _this._providerInitializationNeeded = false;\r\n        /**\r\n         * Unregister sagas and reducers\r\n         */\r\n        _this._cleanup = function () {\r\n            if (_this._addedModules) {\r\n                _this._addedModules.remove();\r\n                _this._addedModules = undefined;\r\n            }\r\n        };\r\n        if (props.reactReduxContext == null) {\r\n            var message = \"Tried to render DynamicModuleLoader, but no ReactReduxContext was provided\";\r\n            console.error(message);\r\n            throw new Error(message);\r\n        }\r\n        _this._store = props.reactReduxContext\r\n            ? props.reactReduxContext.store\r\n            : undefined;\r\n        // We are not in strict mode, let's add the modules ASAP\r\n        if (!_this.props.strictMode) {\r\n            _this._addModules();\r\n            _this.state = { readyToRender: true };\r\n        }\r\n        else {\r\n            // We are in strict mode, so have to wait for CDM to add modules.\r\n            // Thus, we cannot render the children at this time\r\n            _this.state = { readyToRender: false };\r\n        }\r\n        return _this;\r\n    }\r\n    DynamicModuleLoaderImpl.prototype.render = function () {\r\n        if (this.state.readyToRender) {\r\n            if (this._providerInitializationNeeded) {\r\n                return (React.createElement(react_redux_1.Provider, { store: this._store },\r\n                    React.createElement(DynamicModuleLoader, __assign({}, this.props))));\r\n            }\r\n            return (React.createElement(React.Fragment, null,\r\n                this._renderLoader(),\r\n                React.createElement(AddedModulesCleanup, { cleanup: this._cleanup })));\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Render a Redux provider\r\n     */\r\n    DynamicModuleLoaderImpl.prototype._renderLoader = function () {\r\n        return this.props.children\r\n            ? typeof this.props.children === \"function\"\r\n                ? this.props.children()\r\n                : this.props.children\r\n            : null;\r\n    };\r\n    DynamicModuleLoaderImpl.prototype._addModules = function () {\r\n        var _a = this.props, createStore = _a.createStore, modules = _a.modules;\r\n        if (!this._store) {\r\n            // If we need to create a store, do that here. We will skip adding the modules and render DML again\r\n            if (createStore) {\r\n                this._store = createStore();\r\n                this._providerInitializationNeeded = true;\r\n            }\r\n            else {\r\n                throw new Error(\"Store could not be resolved from React context\");\r\n            }\r\n        }\r\n        else {\r\n            // Add the modules here\r\n            this._addedModules = this._store.addModules(modules);\r\n        }\r\n    };\r\n    DynamicModuleLoaderImpl.prototype.componentDidMount = function () {\r\n        if (this.props.strictMode) {\r\n            this._addModules();\r\n            this.setState({ readyToRender: true });\r\n        }\r\n    };\r\n    return DynamicModuleLoaderImpl;\r\n}(React.Component));\r\n/**\r\n * This component is rendered as the last child of DynamicModuleLoaderImpl\r\n * so react runs willUnmount on connected(react-redux) children before this\r\n * cleanup and allows them to unsubscribe from store before dynamic reducers\r\n * removing (and avoid errors in selectors)\r\n */\r\nvar AddedModulesCleanup = /** @class */ (function (_super) {\r\n    __extends(AddedModulesCleanup, _super);\r\n    function AddedModulesCleanup() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AddedModulesCleanup.prototype.render = function () {\r\n        return null;\r\n    };\r\n    AddedModulesCleanup.prototype.componentWillUnmount = function () {\r\n        this.props.cleanup();\r\n    };\r\n    return AddedModulesCleanup;\r\n}(React.Component));\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ContactUS = ({ items }) => {\r\n\tconsole.log('[contact.component.js] component ...');\r\n\tconsole.log(items);\r\n    if (items.length === 0) {\r\n        return <div className=\"contact-root widget\">Loading News...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"news-root widget\">\r\n            <h2>Contact News - Top 5</h2>\r\n            {\r\n                items.map((item, index) => {\r\n                    return <div key={index}>{item.title}<br/></div>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\tconsole.log('[contact.component.js] mapStateToProps ...');\r\n    return {\r\n        items: state.contactState ? state.contactState.items : [],\r\n    };\r\n};\r\n\r\nexport const ConnectedContact = connect(mapStateToProps)(ContactUS);\r\n","export const ContactAvailable = \"contact/storiesavailable\";\r\nexport const ContactLoadStories = \"contact/loadstories\";\r\n\r\nexport const storiesAvailable = items => {\r\n\tconsole.log('[storiesAvailable.js] Actions:');\r\n    return {\r\n        type: ContactAvailable,\r\n        payload: {\r\n            items,\r\n        },\r\n    };\r\n};\r\n\r\nexport const fetchStories = () => {\r\n\tconsole.log('[fetchStories.js] Actions:');\r\n    return (dispatch, getState) => {\r\n        fetchJson(\"https://hacker-news.firebaseio.com/v0/topstories.json\").then(\r\n            ids => {\r\n                const top5 = ids.splice(0, 5);\r\n                const promises = [];\r\n                for (const id of top5) {\r\n                    promises.push(\r\n                        fetchJson(\r\n                            \"https://hacker-news.firebaseio.com/v0/item/\" +\r\n                                id +\r\n                                \".json\"\r\n                        )\r\n                    );\r\n                }\r\n                Promise.all(promises).then(stories => {\r\n                    dispatch(storiesAvailable(stories));\r\n                });\r\n            }\r\n        );\r\n    };\r\n};\r\n\r\n\r\nconst fetchJson = url => {\r\n    return fetch(url).then(response => {\r\n        return response.json();\r\n    });\r\n};\r\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import produce from \"immer\";\r\nimport { ContactAvailable } from \"./contact.actions\";\r\n\r\nexport const contactReducer = (state, action) => {\r\n\tconsole.log('[Contact.Reducer.js] Reducer:');\r\n    return produce(state || { items: [] }, draft => {\r\n        switch (action.type) {\r\n            case ContactAvailable: {\r\n                draft.items = action.payload.items;\r\n                break;\r\n            }\r\n            default: {\r\n                //do nothing\r\n            }\r\n        }\r\n    });\r\n};\r\n","import { ConnectedContact } from \"./contact.component\";\r\nimport { getContactModule } from \"./contact.module\";\r\nimport { DynamicModuleLoader } from \"redux-dynamic-modules-react\";\r\nimport * as React from \"react\";\r\n\r\nexport default function DynamicContact() {\r\n    return (\r\n        <DynamicModuleLoader modules={[getContactModule()]}>\r\n            {}\r\n            <ConnectedContact />\r\n        </DynamicModuleLoader>\r\n    );\r\n}\r\n","import { contactReducer } from \"./contact.reducer\";\r\nimport { fetchStories } from \"./contact.actions\";\r\n\r\nexport function getContactModule() {\r\n\tconsole.log('[ContactModule] is Module ...');\r\n    return {\r\n        id: \"contact-news\",\r\n        reducerMap: {\r\n            contactState: contactReducer,\r\n        },\r\n        initialActions: [fetchStories()],\r\n        finalActions: [],\r\n    };\r\n}\r\n"],"sourceRoot":""}